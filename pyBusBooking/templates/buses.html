<html>
  <head>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css')}}"
    />
  </head>
  <body>
    <a href="/buses" id="lbus" style="display: none;">sam</a>
    <div class="backgroundbus">
    </div>
    <table style="width: fit-content" class="tablebus">
      <tr>
        <th style="border: 1px solid black; border-right: none; padding: 0.5vw">
          Source
        </th>
        <th
          style="
            border: 1px solid black;
            border-right: none;
            position: relative;
            left: -0.2vw;
            padding: 0.5vw;
          "
        >
          Destination
        </th>
        <th
          style="
            border: 1px solid black;
            border-right: none;
            position: relative;
            left: -0.3vw;
            padding: 0.5vw;
          "
        >
          Availability
        </th>
        <th
          style="
            border: 1px solid black;
            border-right: none;
            position: relative;
            left: -0.3vw;
            padding: 0.5vw;
          "
        >
          Date
        </th>
        <th
          style="
            border: 1px solid black;
            border-right: none;
            position: relative;
            left: -0.3vw;
            padding: 0.5vw;
          "
        >
          Price
        </th>
        <th
          style="
            border: 1px solid black;
            border-right: none;
            position: relative;
            left: -0.3vw;
            padding: 0.5vw;
          "
        >
          <!-- No of Tickets
        </th>
        <th
          style="
            border: 1px solid black;
            position: relative;
            left: -0.4vw;
            padding: 0.5vw;
          "
        > -->
          BOOK
        </th>
      </tr>
      {% for row in busarray %}
      <tr>
        <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-right: none;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            text-align: center;
          "
        >
          {{row.src}}
        </td>
        <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-right: none;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            left: -0.2vw;
            text-align: center;
          "
        >
          {{row.dest}}
        </td>
        <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-right: none;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            left: -0.3vw;
            text-align: center;
          "
        >
          {{row.avail}}
        </td>
        <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-right: none;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            left: -0.3vw;
            text-align: center;
          "
        >
          {{row.date}}
        </td>
        <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-right: none;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            left: -0.3vw;
            text-align: center;
          "
        >
          {{row.price}}
        </td>
        <!-- <td
            style="
              font-size: 1.5vw;
              border: 1px solid black;
              border-right: none;
              border-top: none;
              padding: 0.5vw;
              position: relative;
              top: -0.1vw;
              left: -0.3vw;
              text-align: center;
            "
          >
            <input type="number" name="no-of-seats" />
          </td> -->
        <!-- <td
          style="
            font-size: 1.5vw;
            border: 1px solid black;
            border-top: none;
            padding: 0.5vw;
            position: relative;
            top: -0.1vw;
            left: -0.4vw;
            text-align: center;
          "
        > -->
          <form method="POST" action="busBooked">
            <td
              style="
                font-size: 1.5vw;
                border: 1px solid black;
                border-top: none;
                padding: 0.5vw;
                position: relative;
                top: -0.1vw;
                left: -0.4vw;
                text-align: center;
              "
            >
              <button
                style="
                  background-color: #1fcc44;
                  color: #ffffff;
                  font-size: 1.2vw;
                  border: none;
                  cursor: pointer;
                  padding: 5px;
                "
                type="submit"
                name="{{row.busid}}"
              />
              Book
              </button>
            </td>
          </form>
        </td>
      </tr>
      {% endfor %}
    </table>
     <a href="/logout" class="buslogbut">Logout</a>
    <script>
      var msg="{{val}}";
      if(msg=="No Tickets are Available for this Bus!")
      {
        window.alert("No Tickets are Available for this Bus!");
        document.getElementById("lbus").click();
      }
    </script>
  </body>
</html>
